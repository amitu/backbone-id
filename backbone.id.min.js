(function(t,n){"use strict";function r(){var t=(0|(new Date).getTime()/100).toString(16);return t+x+i+(++o).toString(16).substring(1)}function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=0|16*Math.random(),r="x"==t?n:8|3&n;return r.toString(16)})}var o=16777216,x=(0|1048576*(1+Math.random())).toString(16).substring(1),i=(0|1048576*(1+Math.random())).toString(16).substring(1);t.Id=function(t,o){var x=t.prototype.idAttribute,i=t.prototype.defaults,u=t.prototype.sync;"mongo"==o&&(o=r),o&&"guid"!=o||(o=e),t.prototype.defaults=function(){var t=n.isFunction(i)?i():i||{},r={_new:!0};return r[x]=o(),n.defaults(t,r)},t.prototype.isNew=function(){return!!this.get("_new")},t.prototype.sync=function(){var t=u.apply(this,arguments);return this.isNew()&&this.unset("_new"),t}}}).call(this,Backbone,_);